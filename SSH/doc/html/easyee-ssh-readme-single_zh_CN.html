

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
  <meta charset="UTF-8">
    <title>EasyEE-ssh readme</title>
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
<meta http-equiv="keywords"
	content="easyssh,EasyProject,Easy Project">
<meta http-equiv="description"
	content="easyee-ssh: JavaEE开发后台基础架构">
<meta http-equiv="author" content="inthinkcolor@gmail.com">
	<!--
	<link rel="stylesheet" type="text/css" href="styles.css">
	-->
<link href="css/main.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
<!-- Google prettify -->
<link rel="stylesheet" href="prettify/github.css" id="prettifyCss"
	type="text/css"></link>
<script type="text/javascript" src="prettify/prettify2.js"
	id="prettifyJs"></script>
  </head>
  <body id="content_show" style="padding: 10px 20px;">
<h1 id="easyee-ssh-">EasyEE-ssh 架构手册 </h1>
<h1><a href="easyee-ssh-readme_zh_CN.html" target="_blank">API版</a></h1>
<p>EasyEE是一个JaveEE后台开发基础框架。为企业后台项目开发提供了基础架构，提供了常用组件和基于用户、角色、权限方案的权限管理系统（支持页面显示权限控制），前端使用了EasyUI框架。</p>
<ul>
<li><p><code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">EasyEE</span><span class="pun codeSpan">-</span><span class="pln codeSpan">ssh</span></code>: 基于<code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">Struts2</span></code>, <code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">Hibernate4</span></code>, <code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">Spring4</span></code> 的EasyEE开发后台基础架构。主要包含了以下组件：</p>
<ul>
<li><p><strong>SSH</strong>: JAVA后台框架及相关技术及权限管理模块</p>
</li><li><p><strong>EasyUI</strong>: 基于jQuery的前端框架</p>
</li><li><p><strong>EasyUIEx</strong>: EasyUI的扩展插件（<a href="easyuiex-api_zh_CN.html" title="EasyUIEx API" target="_blank">API</a>）</p>
</li><li><p><strong>EasyFilter</strong>: Jave Web请求内容过滤替换组件，进行非法关键字过滤（<a href="http://www.easyproject.cn/easyfilter/zh-cn/index.jsp#readme&quot;" title="EasyFilter API" target="_blank">API</a>）</p>
</li></ul>
</li></ul>
<h2 id="-">文档目录</h2>
<ol>
<li>项目结构</li><li>快速开发手册</li><li>其他配置说明</li></ol>
<h2 id="-">项目结构</h2>
<pre><code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan"> </span><span class="typ codeSpan">EasySSH</span><span class="pln codeSpan"> </span><span class="pun codeSpan">（项目）</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> src</span><span class="pun codeSpan">/</span><span class="pln codeSpan">main</span><span class="pun codeSpan">/</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(源码目录)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> cn</span><span class="pun codeSpan">.</span><span class="pln codeSpan">easyproject</span><span class="pun codeSpan">.</span><span class="pln codeSpan">easyssh </span><span class="pun codeSpan">(包前缀)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">base</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(项目基础功能公共组件包)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> action 
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">BaseAction</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java</span><span class="pun codeSpan">（基础</span><span class="typ codeSpan">Action</span><span class="pun codeSpan">，所有</span><span class="typ codeSpan">Action</span><span class="pun codeSpan">类继承</span><span class="typ codeSpan">BaseAction</span><span class="pun codeSpan">）</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> dao
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">CommonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(通用</span><span class="pln codeSpan">DAO</span><span class="pun codeSpan">接口)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> impl
                        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">CommonDAOHibernateImpl</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(通用</span><span class="pln codeSpan">DAO</span><span class="pun codeSpan">实现类)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> interceptor
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">UserInterctptor</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(用户访问权限核心拦截器)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> service
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">BaseService</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(基础</span><span class="typ codeSpan">Service</span><span class="pun codeSpan">，所有</span><span class="typ codeSpan">Service</span><span class="pun codeSpan">类都基础</span><span class="typ codeSpan">BaseService</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> tag
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">ShowActionTag</span><span class="pun codeSpan">.</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(权限管理，页面显示权限自定义标签类)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> util 
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="pun codeSpan">...</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pun codeSpan">、加密、日期处理等日常开发和项目所需的工具类)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> sys </span><span class="pun codeSpan">(权限管理系统实现包)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> action</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> entity</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> service</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> util</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> criteria</span><span class="pun codeSpan">...</span><span class="pln codeSpan"> 
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> moudle  </span><span class="pun codeSpan">(自定义模块开发包，演示了一个员工管理的</span><span class="typ codeSpan">Demo</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> action</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> entity</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> service</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> criteria</span><span class="pun codeSpan">...</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> src</span><span class="pun codeSpan">/</span><span class="pln codeSpan">main</span><span class="pun codeSpan">/</span><span class="pln codeSpan">resource </span><span class="pun codeSpan">(源码资源目录)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> applicationContext_bean_scan</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Spring</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Bean</span><span class="pun codeSpan">注解扫描)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> applicationContext</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Spring</span><span class="pln codeSpan"> </span><span class="pun codeSpan">核心配置文件——数据源，事务管理)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">ApplicationResources</span><span class="pun codeSpan">.</span><span class="pln codeSpan">properties </span><span class="pun codeSpan">(国际化资源文件，保存信息)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> db</span><span class="pun codeSpan">.</span><span class="pln codeSpan">properties </span><span class="pun codeSpan">(数据库连接参数配置)</span><span class="pln codeSpan"> 
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyFilter</span><span class="pun codeSpan">.</span><span class="pln codeSpan">properties </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasyFilter</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Web</span><span class="pun codeSpan">请求内容过滤替换组件配置文件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> ehcache</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="pln codeSpan">ehcache </span><span class="pun codeSpan">二级缓存配置)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> log4j</span><span class="pun codeSpan">.</span><span class="pln codeSpan">properties </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Log4J</span><span class="pun codeSpan">日志配置文件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> struts</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Struts2</span><span class="pln codeSpan"> </span><span class="pun codeSpan">核心配置文件，负责引入各个模块的配置文件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> struts_easyssh_default</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Struts2</span><span class="pln codeSpan"> </span><span class="pun codeSpan">默认父包配置)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> struts_easyssh_dispatcher</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Struts2</span><span class="pln codeSpan"> </span><span class="pun codeSpan">跳转配置，访问</span><span class="pln codeSpan">WEB</span><span class="pun codeSpan">-</span><span class="pln codeSpan">INF</span><span class="pun codeSpan">下的</span><span class="pln codeSpan">JSP</span><span class="pun codeSpan">视图)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> struts_easyssh_sys</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(权限系统配置文件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> struts</span><span class="pun codeSpan">.</span><span class="pln codeSpan">properties </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Struts2</span><span class="pln codeSpan"> properties</span><span class="pun codeSpan">配置)</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> src</span><span class="pun codeSpan">/</span><span class="pln codeSpan">test</span><span class="pun codeSpan">/</span><span class="pln codeSpan">java </span><span class="pun codeSpan">(测试源码目录)</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> src</span><span class="pun codeSpan">/</span><span class="pln codeSpan">test</span><span class="pun codeSpan">/</span><span class="pln codeSpan">resource </span><span class="pun codeSpan">(测试资源目录)</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">WebRoot</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Web</span><span class="pun codeSpan">根目录)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyssh </span><span class="pun codeSpan">(</span><span class="pln codeSpan">easyssh</span><span class="pun codeSpan">核心</span><span class="pln codeSpan">js</span><span class="pun codeSpan">文件)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> json </span><span class="pun codeSpan">(</span><span class="pln codeSpan">easyssh</span><span class="pun codeSpan">所需的</span><span class="pln codeSpan">JSON</span><span class="pun codeSpan">文件——主题，图标)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyssh</span><span class="pun codeSpan">.</span><span class="pln codeSpan">main</span><span class="pun codeSpan">.</span><span class="pln codeSpan">js </span><span class="pun codeSpan">(</span><span class="pln codeSpan">easyssh</span><span class="pun codeSpan">核心</span><span class="pln codeSpan">JS</span><span class="pun codeSpan">，全局</span><span class="typ codeSpan">Ajax</span><span class="pun codeSpan">请求响应处理)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> jquery</span><span class="pun codeSpan">.</span><span class="pln codeSpan">cookie</span><span class="pun codeSpan">.</span><span class="pln codeSpan">js </span><span class="pun codeSpan">(</span><span class="pln codeSpan">cookie</span><span class="pun codeSpan">处理)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyui </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasyUI</span><span class="pln codeSpan"> </span><span class="pun codeSpan">前端框架)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyuiex </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasyUIEx</span><span class="pln codeSpan"> </span><span class="pun codeSpan">扩展插件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> echarts </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EChars</span><span class="pln codeSpan"> </span><span class="pun codeSpan">前端图形报表组件)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> images </span><span class="pun codeSpan">(图片)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> jsp </span><span class="pun codeSpan">（一般</span><span class="pln codeSpan">JSP</span><span class="pun codeSpan">页面）</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> echarts </span><span class="pun codeSpan">(</span><span class="typ codeSpan">ECharts</span><span class="pln codeSpan"> demo</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> error </span><span class="pun codeSpan">(系统错误页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> notFound</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">(</span><span class="lit codeSpan">404</span><span class="pun codeSpan">错误提示页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> permissionDenied</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">(权限不足提示页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> serverError</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">(</span><span class="lit codeSpan">500</span><span class="pun codeSpan">错误提示页面)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="typ codeSpan">VerifyCode</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">（验证码生成</span><span class="pln codeSpan">JSP</span><span class="pun codeSpan">）</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> script </span><span class="pun codeSpan">(项目开发页面相关</span><span class="pln codeSpan">JS</span><span class="pun codeSpan">文件，和</span><span class="pln codeSpan">WEB</span><span class="pun codeSpan">-</span><span class="pln codeSpan">INF</span><span class="pun codeSpan">/</span><span class="pln codeSpan">content</span><span class="pun codeSpan">下的页面一一对应)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> main
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> sys </span><span class="pun codeSpan">(系统权限模块</span><span class="pln codeSpan">JS</span><span class="pun codeSpan">...)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> main</span><span class="pun codeSpan">.</span><span class="pln codeSpan">js </span><span class="pun codeSpan">(系统主页面</span><span class="pln codeSpan">JS</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> login</span><span class="pun codeSpan">.</span><span class="pln codeSpan">js </span><span class="pun codeSpan">(登录页面</span><span class="pln codeSpan">JS</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> 
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> style </span><span class="pun codeSpan">(</span><span class="pln codeSpan">css</span><span class="pun codeSpan">样式表)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyssh</span><span class="pun codeSpan">.</span><span class="pln codeSpan">main</span><span class="pun codeSpan">.</span><span class="pln codeSpan">css </span><span class="pun codeSpan">(</span><span class="pln codeSpan">easyssh </span><span class="pun codeSpan">系统全局</span><span class="pln codeSpan">css</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> WEB</span><span class="pun codeSpan">-</span><span class="pln codeSpan">INF
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> content </span><span class="pun codeSpan">(项目核心页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> dialog </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasyUI</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Dialog</span><span class="pln codeSpan"> </span><span class="pun codeSpan">相关页面)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> sys </span><span class="pun codeSpan">(权限系统模块相关</span><span class="typ codeSpan">Dialog</span><span class="pun codeSpan">页面)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">module</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(自定义开发模块，员工管理</span><span class="typ codeSpan">Demo</span><span class="pun codeSpan">相关</span><span class="typ codeSpan">Dialog</span><span class="pun codeSpan">页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> main </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasyUI</span><span class="pln codeSpan"> </span><span class="pun codeSpan">核心页面)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> sys </span><span class="pun codeSpan">(权限系统模块相关页面)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">module</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(自定义开发模块，员工管理</span><span class="typ codeSpan">Demo</span><span class="pun codeSpan">相关页面)</span><span class="pln codeSpan">
                    </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> main</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">(</span><span class="typ codeSpan">EasySSH</span><span class="pun codeSpan">登录后的主页面)</span><span class="pln codeSpan">
                </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> login</span><span class="pun codeSpan">.</span><span class="pln codeSpan">jsp </span><span class="pun codeSpan">(登录页面)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> lib </span><span class="pun codeSpan">(系统</span><span class="pln codeSpan">jar</span><span class="pun codeSpan">包，包含</span><span class="pln codeSpan">SSH</span><span class="pun codeSpan">、</span><span class="pln codeSpan">druid</span><span class="pun codeSpan">连接池、</span><span class="pln codeSpan">easyFilter</span><span class="pun codeSpan">、开发常用组件等等)</span><span class="pln codeSpan">
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> easyssh</span><span class="pun codeSpan">-</span><span class="pln codeSpan">tags</span><span class="pun codeSpan">.</span><span class="pln codeSpan">tld </span><span class="pun codeSpan">(权限管理系统面显示权限控制自定义标签库)</span><span class="pln codeSpan">  
            </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> web</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml </span><span class="pun codeSpan">(部署描述符文件)</span><span class="pln codeSpan">
         </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> toLogin</span><span class="pun codeSpan">.</span><span class="pln codeSpan">action </span><span class="pun codeSpan">(跳转到登录页面的</span><span class="pln codeSpan">action</span><span class="pun codeSpan">文件)</span></code></pre><h2 id="-">快速开发指导手册</h2>
<ol>
<li><p><strong>创建新模块包结构</strong></p>
<ul>
<li><p>在项目基础前缀包下创建新模块的包，如:<br><br><strong>cn.easyproject.easyee.ssh.<code class=" prettyprint prettyprinted" style=""><span class="kwd codeSpan">module</span></code></strong></p>
</li><li><p>在新模块包下创建功能包，如: <br><br><strong>cn.easyproject.easyee.ssh.module.<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">entity</span></code></strong><br><strong>cn.easyproject.easyee.ssh.module.<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">service</span></code></strong><br><strong>cn.easyproject.easyee.ssh.module.<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">action</span></code></strong><br><strong>cn.easyproject.easyee.ssh.module.<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">criteria</span></code></strong></p>
</li></ul>
</li><li><p><strong>编写POJO实体类代码</strong></p>
<ul>
<li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">entity</span></code>下根据表创建POJO实体类和ORM映射（注解或XML）</p>
<ul>
<li>注解映射<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="lit codeSpan">@Entity</span><span class="pln codeSpan">
</span><span class="lit codeSpan">@Table</span><span class="pun codeSpan">(</span><span class="pln codeSpan">name </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="str codeSpan">"Emp"</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> catalog </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="str codeSpan">"EASYSSH"</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
</span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">class</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Emp</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">implements</span><span class="pln codeSpan"> java</span><span class="pun codeSpan">.</span><span class="pln codeSpan">io</span><span class="pun codeSpan">.</span><span class="typ codeSpan">Serializable</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
   </span><span class="com codeSpan">//...</span><span class="pln codeSpan">
</span><span class="pun codeSpan">}</span></code></pre>
</li><li>XML 映射<pre><code class="lang-XML prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;?</span><span class="pln codeSpan">xml version</span><span class="pun codeSpan">=</span><span class="str codeSpan">"1.0"</span><span class="pln codeSpan"> encoding</span><span class="pun codeSpan">=</span><span class="str codeSpan">"utf-8"</span><span class="pun codeSpan">?&gt;</span><span class="pln codeSpan">
</span><span class="dec codeSpan">&lt;!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd"&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;hibernate-mapping&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;class</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"cn.easyproject.easyee.ssh.module.entity.Emp"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">table</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"module_emp"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">catalog</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"easyssh"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
    </span><span class="com codeSpan">&lt;!-- ... --&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/class&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/hibernate-mapping&gt;</span></code></pre>
</li></ul>
</li></ul>
</li><li><p><strong>编写Service代码</strong></p>
<ul>
<li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">service</span></code>下编写业务接口</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">interface</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptService</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> add</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">delete</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> deptno</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> update</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">get</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> deptno</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> findByPage</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pln codeSpan"> pageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptCriteria</span><span class="pln codeSpan"> deptCriteria</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">int</span><span class="pln codeSpan"> findMaxPage</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">int</span><span class="pln codeSpan"> rowPerPage</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">List</span><span class="pun codeSpan">&lt;</span><span class="typ codeSpan">Dept</span><span class="pun codeSpan">&gt;</span><span class="pln codeSpan"> findAll</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
</span><span class="pun codeSpan">}</span></code></pre>
</li><li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">service</span><span class="pun codeSpan">.</span><span class="pln codeSpan">impl</span></code>下编写业务接口对应的实现类 <br></p>
<ul>
<li>业务实现类统一继承BaseService类</li><li>BaseService中注入了通用DAO，直接调用commonDAO的数据方法方法即可</li><li><p>使用@Service声明Bean</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="com codeSpan">/**
 * 业务实现类统一继承BaseService类
 * BaseService中注入了通用DAO，直接调用commonDAO的数据方法方法即可
 * 
 * @author easyproject.cn
 * @version 1.0
 *
 */</span><span class="pln codeSpan">
</span><span class="lit codeSpan">@Service</span><span class="pun codeSpan">(</span><span class="str codeSpan">"deptService"</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
</span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">class</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptServiceImpl</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">extends</span><span class="pln codeSpan"> </span><span class="typ codeSpan">BaseService</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">implements</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptService</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> add</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">save</span><span class="pun codeSpan">(</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">delete</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> deptno</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">updateByHql</span><span class="pun codeSpan">(</span><span class="str codeSpan">"delete from Dept where deptno=?"</span><span class="pun codeSpan">,</span><span class="pln codeSpan">deptno</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> update</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">update</span><span class="pun codeSpan">(</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">get</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> deptno</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> commonDAO</span><span class="pun codeSpan">.</span><span class="kwd codeSpan">get</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pun codeSpan">.</span><span class="kwd codeSpan">class</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> deptno</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> findByPage</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pln codeSpan"> pageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptCriteria</span><span class="pln codeSpan"> deptCriteria</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        pageBean</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setEntityName</span><span class="pun codeSpan">(</span><span class="str codeSpan">"Dept dept"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
        pageBean</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setSelect</span><span class="pun codeSpan">(</span><span class="str codeSpan">"select dept"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

        </span><span class="com codeSpan">// 按条件分页查询</span><span class="pln codeSpan">
        commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">findByPage</span><span class="pun codeSpan">(</span><span class="pln codeSpan">pageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan">deptCriteria</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">int</span><span class="pln codeSpan"> findMaxPage</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">int</span><span class="pln codeSpan"> rowPerPage</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="pln codeSpan">commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">findMaxPage</span><span class="pun codeSpan">(</span><span class="str codeSpan">"select count(*) from Dept"</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> rowPerPage</span><span class="pun codeSpan">)-</span><span class="lit codeSpan">1</span><span class="pun codeSpan">)/</span><span class="pln codeSpan">rowPerPage</span><span class="pun codeSpan">+</span><span class="lit codeSpan">1</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="lit codeSpan">@SuppressWarnings</span><span class="pun codeSpan">(</span><span class="str codeSpan">"unchecked"</span><span class="pun codeSpan">)</span><span class="pln codeSpan">
    </span><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">List</span><span class="pun codeSpan">&lt;</span><span class="typ codeSpan">Dept</span><span class="pun codeSpan">&gt;</span><span class="pln codeSpan"> findAll</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">find</span><span class="pun codeSpan">(</span><span class="str codeSpan">"from Dept"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

</span><span class="pun codeSpan">}</span></code></pre>
</li><li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">applicationContext</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code> 中使用<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">aop</span><span class="pun codeSpan">:</span><span class="pln codeSpan">config</span></code>添加新模块业务层的声明式事务支持（或使用注解式配置）</p>
<pre><code class="lang-XML prettyprint prettyprinted" style=""><span class="pln codeSpan">  </span><span class="com codeSpan">&lt;!-- AOP 将通知织入切点表达式指定的方法--&gt;</span><span class="pln codeSpan">
  </span><span class="tag codeSpan">&lt;aop:config&gt;</span><span class="pln codeSpan">
      </span><span class="com codeSpan">&lt;!--  事务AOP --&gt;</span><span class="pln codeSpan">
      </span><span class="tag codeSpan">&lt;aop:advisor</span><span class="pln codeSpan"> </span><span class="atn codeSpan">advice-ref</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"txAdvie"</span><span class="pln codeSpan">
          </span><span class="atn codeSpan">pointcut</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"execution(* cn.easyproject.easyee.ssh.sys.service..*.*(..))"</span><span class="pln codeSpan"> </span><span class="tag codeSpan">/&gt;</span><span class="pln codeSpan">
      </span><span class="com codeSpan">&lt;!-- 自定义模块事务配置.... --&gt;</span><span class="pln codeSpan">
      </span><span class="tag codeSpan">&lt;aop:advisor</span><span class="pln codeSpan"> </span><span class="atn codeSpan">advice-ref</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"txAdvie"</span><span class="pln codeSpan">
          </span><span class="atn codeSpan">pointcut</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"execution(* cn.easyproject.easyee.ssh.module.service..*.*(..))"</span><span class="pln codeSpan"> </span><span class="tag codeSpan">/&gt;</span><span class="pln codeSpan">
  </span><span class="tag codeSpan">&lt;/aop:config&gt;</span></code></pre>
</li></ul>
</li></ul>
</li><li><p><strong>编写Action控制器</strong></p>
<ul>
<li><p>编写控制器代码</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="pln codeSpan">   </span><span class="com codeSpan">/**
    * 所有Action处理类统一继承BaseAction
    * 
    * BaseAction中定义了一下内容：
    * - request, application Servlet API
    * - 请求响应相关的JSON参数（EasyUI框架请求都是通过JSON响应）
    * - 初始化JSON响应数据的方法（setJsonMap，setJsonMsgMap，setJsonPaginationMap(PageBean, Object...)）
    * - EasyUI分页信息相关的属性
    * - result="json" 的 JSON 常量
    *
    */</span><span class="pln codeSpan">
  </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">class</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptAction</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">extends</span><span class="pln codeSpan"> </span><span class="typ codeSpan">BaseAction</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">

      </span><span class="com codeSpan">// 必须和@Service("deptService")注解声明的业务Bean名称相同</span><span class="pln codeSpan">
      </span><span class="com codeSpan">// 必须有setter方法</span><span class="pln codeSpan">
      </span><span class="kwd codeSpan">private</span><span class="pln codeSpan"> </span><span class="typ codeSpan">DeptService</span><span class="pln codeSpan"> deptService</span><span class="pun codeSpan">;</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">private</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">;</span><span class="pln codeSpan">

      </span><span class="com codeSpan">/**
       * 分页
       * @return
       */</span><span class="pln codeSpan">
      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> list</span><span class="pun codeSpan">(){</span><span class="pln codeSpan">
          </span><span class="typ codeSpan">PageBean</span><span class="pln codeSpan"> pb </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getPageBean</span><span class="pun codeSpan">();</span><span class="pln codeSpan"> </span><span class="com codeSpan">// 获得分页对象</span><span class="pln codeSpan">
          deptService</span><span class="pun codeSpan">.</span><span class="pln codeSpan">findByPage</span><span class="pun codeSpan">(</span><span class="pln codeSpan">pb</span><span class="pun codeSpan">,</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// EasyUI框架响应结果都是JSON</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// JSON数据初始化，包含EasySSH Ajax响应信息和分页信息</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setJsonPaginationMap</span><span class="pun codeSpan">(</span><span class="pln codeSpan">pb</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> JSON</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="com codeSpan">/**
       * CRUD
       * @return
       */</span><span class="pln codeSpan">
      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> save</span><span class="pun codeSpan">(){</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// 保存用户</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">try</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              deptService</span><span class="pun codeSpan">.</span><span class="pln codeSpan">add</span><span class="pun codeSpan">(</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

              </span><span class="com codeSpan">// 处理成功 消息</span><span class="pln codeSpan">
              msg </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> getText</span><span class="pun codeSpan">(</span><span class="str codeSpan">"msg.saveSuccess"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

              </span><span class="com codeSpan">// 如果需要刷新，跳转到最后一页</span><span class="pln codeSpan">
  </span><span class="com codeSpan">//            super.page = deptService.findMaxPage(rows);</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">catch</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Exception</span><span class="pln codeSpan"> e</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              e</span><span class="pun codeSpan">.</span><span class="pln codeSpan">printStackTrace</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
              msg </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> getText</span><span class="pun codeSpan">(</span><span class="str codeSpan">"msg.saveFail"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
              statusCode</span><span class="pun codeSpan">=</span><span class="typ codeSpan">StatusCode</span><span class="pun codeSpan">.</span><span class="pln codeSpan">ERROR</span><span class="pun codeSpan">;</span><span class="pln codeSpan"> </span><span class="com codeSpan">//默认为OK</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

          </span><span class="com codeSpan">/*
           * Ajax响应信息
           * statusCode：响应状态码;  
           * msg: 响应消息;   
           * callback: 执行回调函数,
           * locationUrl: 跳转页面
           */</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// EasyUI框架响应结果都是JSON</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// JSON数据初始化，包含EasySSH Ajax响应信息</span><span class="pln codeSpan">
  </span><span class="com codeSpan">//        super.setJsonMsgMap();</span><span class="pln codeSpan">
          </span><span class="com codeSpan">// 添加数据后，使用rowData信息更新行的内容</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setJsonMsgMap</span><span class="pun codeSpan">(</span><span class="str codeSpan">"rowData"</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

          </span><span class="com codeSpan">// 返回JSON</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> JSON</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">delete</span><span class="pun codeSpan">(){</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">try</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              deptService</span><span class="pun codeSpan">.</span><span class="kwd codeSpan">delete</span><span class="pun codeSpan">(</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getDeptno</span><span class="pun codeSpan">());</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">catch</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Exception</span><span class="pln codeSpan"> e</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              e</span><span class="pun codeSpan">.</span><span class="pln codeSpan">printStackTrace</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
              statusCode</span><span class="pun codeSpan">=</span><span class="typ codeSpan">StatusCode</span><span class="pun codeSpan">.</span><span class="pln codeSpan">ERROR</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setJsonMsgMap</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> JSON</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> update</span><span class="pun codeSpan">(){</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">try</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              deptService</span><span class="pun codeSpan">.</span><span class="pln codeSpan">update</span><span class="pun codeSpan">(</span><span class="pln codeSpan">dept</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
              msg</span><span class="pun codeSpan">=</span><span class="pln codeSpan">getText</span><span class="pun codeSpan">(</span><span class="str codeSpan">"msg.updateSuccess"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
              </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">.</span><span class="pln codeSpan">refreshPermissions</span><span class="pun codeSpan">();</span><span class="pln codeSpan"> </span><span class="com codeSpan">//刷新权限</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">catch</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">Exception</span><span class="pln codeSpan"> e</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
              e</span><span class="pun codeSpan">.</span><span class="pln codeSpan">printStackTrace</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
              msg</span><span class="pun codeSpan">=</span><span class="pln codeSpan">getText</span><span class="pun codeSpan">(</span><span class="str codeSpan">"msg.updateFail"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
              statusCode</span><span class="pun codeSpan">=</span><span class="typ codeSpan">StatusCode</span><span class="pun codeSpan">.</span><span class="pln codeSpan">ERROR</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
          </span><span class="pun codeSpan">}</span><span class="pln codeSpan">
          setJsonMsgMap</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> JSON</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> getDept</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> setDept</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Dept</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">dept </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> dept</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

      </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> setDeptService</span><span class="pun codeSpan">(</span><span class="typ codeSpan">DeptService</span><span class="pln codeSpan"> deptService</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
          </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">deptService </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> deptService</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
      </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

  </span><span class="pun codeSpan">}</span></code></pre>
</li><li><p>配置控制器</p>
<ol>
<li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">src</span><span class="pun codeSpan">/</span><span class="pln codeSpan">main</span><span class="pun codeSpan">/</span><span class="pln codeSpan">resources</span></code>下创建开发模块相应的struts2配置XML文件 <code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">struts_easyssh_module</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code>，<code class=" prettyprint prettyprinted" style=""><span class="kwd codeSpan">package</span></code>继承<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">easyssh</span><span class="pun codeSpan">-</span><span class="kwd codeSpan">default</span></code>父包：</p>
<pre><code class="lang-XML prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;?</span><span class="pln codeSpan">xml version</span><span class="pun codeSpan">=</span><span class="str codeSpan">"1.0"</span><span class="pln codeSpan"> encoding</span><span class="pun codeSpan">=</span><span class="str codeSpan">"UTF-8"</span><span class="pln codeSpan"> </span><span class="pun codeSpan">?&gt;</span><span class="pln codeSpan">
</span><span class="dec codeSpan">&lt;!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd"&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;struts&gt;</span><span class="pln codeSpan">
   </span><span class="com codeSpan">&lt;!-- 自定义模块 - 员工管理 --&gt;</span><span class="pln codeSpan">
   </span><span class="com codeSpan">&lt;!-- 统一继承easyssh-default父包 --&gt;</span><span class="pln codeSpan">
   </span><span class="tag codeSpan">&lt;package</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"easyssh-module"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">extends</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"easyssh-default"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">namespace</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"/"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
            </span><span class="com codeSpan">&lt;!-- EasyUI框架响应结果都是JSON --&gt;</span><span class="pln codeSpan">
            </span><span class="tag codeSpan">&lt;action</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"dept_*"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">class</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"cn.easyproject.easyee.ssh.module.action.DeptAction"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">method</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"{1}"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
            </span><span class="tag codeSpan">&lt;/action&gt;</span><span class="pln codeSpan">        
            </span><span class="tag codeSpan">&lt;action</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"emp_*"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">class</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"cn.easyproject.easyee.ssh.module.action.EmpAction"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">method</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"{1}"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
            </span><span class="tag codeSpan">&lt;/action&gt;</span><span class="pln codeSpan">        
   </span><span class="tag codeSpan">&lt;/package&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/struts&gt;</span></code></pre>
</li><li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">struts</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code>中include创建的模块配置文件<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">struts_easyssh_module</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code>:</p>
<pre><code class="lang-XML prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;?</span><span class="pln codeSpan">xml version</span><span class="pun codeSpan">=</span><span class="str codeSpan">"1.0"</span><span class="pln codeSpan"> encoding</span><span class="pun codeSpan">=</span><span class="str codeSpan">"UTF-8"</span><span class="pln codeSpan"> </span><span class="pun codeSpan">?&gt;</span><span class="pln codeSpan">
</span><span class="dec codeSpan">&lt;!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd"&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;struts&gt;</span><span class="pln codeSpan">
        </span><span class="com codeSpan">&lt;!-- easyssh 默认主系统配置模块包 --&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;include</span><span class="pln codeSpan"> </span><span class="atn codeSpan">file</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"struts_easyssh_default.xml"</span><span class="tag codeSpan">&gt;&lt;/include&gt;</span><span class="pln codeSpan">
        </span><span class="com codeSpan">&lt;!-- 页面转发跳转配置包 --&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;include</span><span class="pln codeSpan"> </span><span class="atn codeSpan">file</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"struts_easyssh_dispatcher.xml"</span><span class="tag codeSpan">&gt;&lt;/include&gt;</span><span class="pln codeSpan">
        </span><span class="com codeSpan">&lt;!-- EasySSH 权限系统配置包 --&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;include</span><span class="pln codeSpan"> </span><span class="atn codeSpan">file</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"struts_easyssh_sys.xml"</span><span class="tag codeSpan">&gt;&lt;/include&gt;</span><span class="pln codeSpan">

        </span><span class="com codeSpan">&lt;!-- 自定义模块开发配置文件 - 员工管理 --&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;include</span><span class="pln codeSpan"> </span><span class="atn codeSpan">file</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"struts_easyssh_module.xml"</span><span class="tag codeSpan">&gt;&lt;/include&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/struts&gt;</span></code></pre>
</li></ol>
</li></ul>
</li><li><p><strong>页面开发</strong></p>
<ul>
<li><p>在主目录下创建存放新模块页面的目录，如：</p>
<ul>
<li><p><code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">WebRoot</span><span class="pun codeSpan">/</span><span class="pln codeSpan">WEB</span><span class="pun codeSpan">-</span><span class="pln codeSpan">INF</span><span class="pun codeSpan">/</span><span class="pln codeSpan">content</span><span class="pun codeSpan">/</span><span class="pln codeSpan">main</span><span class="pun codeSpan">/</span><span class="kwd codeSpan">module</span></code>（EasyUI 页面主目录）</p>
</li><li><p><code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">WebRoot</span><span class="pun codeSpan">/</span><span class="pln codeSpan">WEB</span><span class="pun codeSpan">-</span><span class="pln codeSpan">INF</span><span class="pun codeSpan">/</span><span class="pln codeSpan">content</span><span class="pun codeSpan">/</span><span class="pln codeSpan">dialog</span><span class="pun codeSpan">/</span><span class="kwd codeSpan">module</span></code>(EasyUI Dialog页面主目录)</p>
</li></ul>
</li><li><p>按照EasyUI框架指导和Demo开发页面</p>
<ul>
<li><p>EasyEE使用<code class=" prettyprint prettyprinted" style=""><span class="typ codeSpan">EasyUI</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Tabs</span></code>的<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">href</span></code>属性引入tab子页面，不是content（iframe框架）属性，所以各个模块页面是和当前页面合并在一起，无需在子页面重复引入主页面的JS，CSS等。</p>
<blockquote>
<p>EasyUI Tabs两种动态动态加载方式之间的区别：</p>
<p><strong>-使用content(iframe框架)引入页面:</strong></p>
<pre><code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">content </span><span class="pun codeSpan">:</span><span class="pln codeSpan"> </span><span class="str codeSpan">'&lt;iframe scrolling="auto" frameborder="0" src="'</span><span class="pun codeSpan">+</span><span class="pln codeSpan"> url </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="str codeSpan">'" style="width:100%;height:100%;"&gt;&lt;/iframe&gt;'</span><span class="pun codeSpan">;</span></code></pre><p>  作为独立窗口存在，页面内容独立，与当前页面互不干扰<br>  需要独立引入需要的JS和CSS资源<br>  弹出的内容是在内部窗口内<br><strong>-使用href方法：</strong></p>
<pre><code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">href </span><span class="pun codeSpan">:</span><span class="pln codeSpan"> url</span><span class="pun codeSpan">,</span></code></pre><p>  内容片段加载，引入的内容和当前页面合并在一起<br>  不需要引入页面已经引入的JS和CSS资源<br>  引用的页面不能有body，否则加载的内容内部的JS文件文法执行<br>  会显示html渲染解析的提示<br>  要防止页面间DOM元素、JS的命名冲突（DOM命名要使用统一前缀唯一，JS使用命名空间）</p>
</blockquote>
</li><li><p>为了防止页面间DOM元素命名冲突，应该为每个页面的DOM元素使用统一的唯一前缀</p>
</li><li>为了防止页面间JavaScript变量命名冲突，应该为每个页面定义唯一的操作命名空间，所有函数注册进命名空间</li><li><p>默认开发推荐结构如下：</p>
<pre><code class="lang-JSP prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;%--</span><span class="pln codeSpan"> </span><span class="lit codeSpan">1.</span><span class="pln codeSpan"> </span><span class="pun codeSpan">页面</span><span class="typ codeSpan">Datagrid</span><span class="pun codeSpan">初始化相关</span><span class="pln codeSpan">JS </span><span class="pun codeSpan">--</span><span class="pln codeSpan">%&gt;

</span><span class="tag codeSpan">&lt;script</span><span class="pln codeSpan"> </span><span class="atn codeSpan">type</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"text/javascript"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
</span><span class="com codeSpan">// 为了防止命名冲突，为每个页面定义唯一的操作命名空间</span><span class="pln codeSpan">
</span><span class="com codeSpan">// 所有函数注册进命名空间</span><span class="pln codeSpan">
</span><span class="kwd codeSpan">var</span><span class="pln codeSpan"> sysRole </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{};</span><span class="pln codeSpan">
$</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">function</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
    </span><span class="com codeSpan">/*
     * datagrid数据格式化
     */</span><span class="pln codeSpan">
    </span><span class="com codeSpan">// ...</span><span class="pln codeSpan">

    </span><span class="com codeSpan">/*
     * 数据表格初始化
     */</span><span class="pln codeSpan">

    </span><span class="com codeSpan">/*
     * 数据表格CRUD
     */</span><span class="pln codeSpan">

    </span><span class="com codeSpan">/*
     * 搜索
     */</span><span class="pln codeSpan">

</span><span class="pun codeSpan">});</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/script&gt;</span><span class="pln codeSpan">

</span><span class="pun codeSpan">&lt;%--</span><span class="pln codeSpan"> </span><span class="lit codeSpan">2.</span><span class="pln codeSpan"> </span><span class="pun codeSpan">页面内容，无需</span><span class="typ codeSpan">Body</span><span class="pln codeSpan"> </span><span class="pun codeSpan">--</span><span class="pln codeSpan">%&gt;
</span><span class="com codeSpan">&lt;!--  ... --&gt;</span><span class="pln codeSpan">

</span><span class="pun codeSpan">&lt;%--</span><span class="pln codeSpan"> grid</span><span class="pun codeSpan">右键菜单</span><span class="pln codeSpan"> </span><span class="pun codeSpan">--</span><span class="pln codeSpan">%&gt;
</span><span class="com codeSpan">&lt;!--  ... --&gt;</span><span class="pln codeSpan">

</span><span class="pun codeSpan">&lt;%--</span><span class="pln codeSpan"> </span><span class="lit codeSpan">3.</span><span class="pln codeSpan"> </span><span class="pun codeSpan">包含的</span><span class="typ codeSpan">Dialog</span><span class="pun codeSpan">页面等其他内容</span><span class="pln codeSpan"> </span><span class="pun codeSpan">--</span><span class="pln codeSpan">%&gt;
</span><span class="com codeSpan">&lt;!--  ... --&gt;</span></code></pre>
</li></ul>
</li></ul>
</li><li><p><strong>访问和权限配置</strong></p>
<ol>
<li><p>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">struts_easyssh_dispatcher</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code>中配置访问WEB-INF下JSP视图的action请求</p>
<pre><code class="lang-XML prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;?</span><span class="pln codeSpan">xml version</span><span class="pun codeSpan">=</span><span class="str codeSpan">"1.0"</span><span class="pln codeSpan"> encoding</span><span class="pun codeSpan">=</span><span class="str codeSpan">"UTF-8"</span><span class="pln codeSpan"> </span><span class="pun codeSpan">?&gt;</span><span class="pln codeSpan">
</span><span class="dec codeSpan">&lt;!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd"&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;struts&gt;</span><span class="pln codeSpan">
    </span><span class="com codeSpan">&lt;!-- easyssh 转发页面包，通过action 配置跳转到 /WEB-INF/ 下的JSP页面 --&gt;</span><span class="pln codeSpan">
    </span><span class="tag codeSpan">&lt;package</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"easyssh-dispatcher"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">extends</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"easyssh-default"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">namespace</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"/"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">

        </span><span class="com codeSpan">&lt;!-- ... --&gt;</span><span class="pln codeSpan">

        </span><span class="tag codeSpan">&lt;action</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"toDept"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">  
              </span><span class="tag codeSpan">&lt;result&gt;</span><span class="pln codeSpan">/WEB-INF/content/main/module/dept.jsp</span><span class="tag codeSpan">&lt;/result&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;/action&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;action</span><span class="pln codeSpan"> </span><span class="atn codeSpan">name</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"toEmp"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">  
              </span><span class="tag codeSpan">&lt;result&gt;</span><span class="pln codeSpan">/WEB-INF/content/main/module/emp.jsp</span><span class="tag codeSpan">&lt;/result&gt;</span><span class="pln codeSpan">
        </span><span class="tag codeSpan">&lt;/action&gt;</span><span class="pln codeSpan">
    </span><span class="tag codeSpan">&lt;/package&gt;</span><span class="pln codeSpan">
</span><span class="tag codeSpan">&lt;/struts&gt;</span></code></pre>
</li><li><p>通过系统管理员，添加新模块<code class=" prettyprint prettyprinted" style=""><span class="pun codeSpan">菜单权限</span></code>（toDept.action，点击菜单访问JSP视图的action请求）</p>
</li><li><p>通过系统管理员，添加新模块<code class=" prettyprint prettyprinted" style=""><span class="pun codeSpan">操作权限</span></code>（增删改查的action请求，显示控制的action名称）</p>
</li><li><p>针对用户角色按需<code class=" prettyprint prettyprinted" style=""><span class="pun codeSpan">分配菜单权限和操作权限</span></code></p>
</li></ol>
</li></ol>
<h2 id="-">其他配置开发说明</h2>
<h3 id="1-easyssh-ajax-">1. EasySSH Ajax响应信息</h3>
<ul>
<li><p>EasySSH Ajax 响应消息结构:</p>
<pre><code class="lang-JSON prettyprint prettyprinted" style=""><span class="pun codeSpan">{</span><span class="pln codeSpan">
  statusCode</span><span class="pun codeSpan">：响应状态码,</span><span class="pln codeSpan">  
  msg</span><span class="pun codeSpan">:</span><span class="pln codeSpan"> </span><span class="pun codeSpan">响应消息,</span><span class="pln codeSpan">
  callback</span><span class="pun codeSpan">:</span><span class="pln codeSpan"> </span><span class="pun codeSpan">执行回调函数,</span><span class="pln codeSpan">
  locationUrl</span><span class="pun codeSpan">:</span><span class="pln codeSpan"> </span><span class="pun codeSpan">跳转页面,</span><span class="pln codeSpan">
  </span><span class="com codeSpan">//... 其他数据</span><span class="pln codeSpan">
</span><span class="pun codeSpan">}</span></code></pre>
</li><li><p>BaseAction中输出JSON结果相关的方法：</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="pln codeSpan"> </span><span class="com codeSpan">// 自定义JSON输出根对象   </span><span class="pln codeSpan">
 setJsonRoot</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
 </span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对</span><span class="pln codeSpan">
 setJsonMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span><span class="pln codeSpan">
 </span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对，及EasySSH Ajax响应信息</span><span class="pln codeSpan">
 setJsonMsgMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span><span class="pln codeSpan">
 </span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对，分页信息，及EasySSH Ajax响应信息</span><span class="pln codeSpan">
 setJsonPaginationMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span></code></pre>
</li></ul>
<h3 id="2-baseaction">2. BaseAction</h3>
<p>BaseAction中定义了以下主要内容：</p>
<ul>
<li>Servlet API（request, application ）</li><li>JSON result常量： <code class=" prettyprint prettyprinted" style=""><span class="kwd codeSpan">final</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> JSON </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="str codeSpan">"json"</span><span class="pun codeSpan">;</span></code></li><li>JSON参数（请求响应相关的EasyUI分页参数，EasySSH Ajax消息参数）</li><li>JSON响应初始化工具方法（<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">setJsonRoot</span></code>, <code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">setJsonMap</span></code>，<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">setJsonMsgMap</span></code>，<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">setJsonPaginationMap</span></code>）<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="com codeSpan">// 自定义JSON输出根对象   </span><span class="pln codeSpan">
setJsonRoot</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
</span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对</span><span class="pln codeSpan">
setJsonMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span><span class="pln codeSpan">
</span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对，及EasySSH Ajax响应信息</span><span class="pln codeSpan">
setJsonMsgMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span><span class="pln codeSpan">
</span><span class="com codeSpan">// JSON数据初始化，包含自定义JSON键值对，分页信息，及EasySSH Ajax响应信息</span><span class="pln codeSpan">
setJsonPaginationMap</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Object</span><span class="pun codeSpan">...)</span></code></pre>
</li><li>工具方法</li></ul><h3 id="3-commondao">3.  CommonDAO</h3>
<p>CommonDAO提供了通用的持久层操作类，封装了各种日常操作方法，包含了基于PageBean和EasyCriteria的分页及查询条件处理组件。</p>
<h3 id="4-pagebean-">4. PageBean分页和查询条件处理</h3>
<ul>
<li><p>EasySSH使用PageBean对分页信息进行封装，<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">findByPage</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pun codeSpan">)</span></code>可以实现分页查询：</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="com codeSpan">// Demo: </span><span class="pln codeSpan">
</span><span class="com codeSpan">//        PageBean pb = new PageBean();</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setSelect(" select new Account(id,username) ");// select查询条件，可选，默认为空</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setEntityName("Account"); // 查询的实体名，必须</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setPageNo(1); // 查询页数，可选，默认为1</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setRowsPerPage(4);// 每页条数，可选，默认为10</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setCondition(" and id&gt;2");// 查询条件，可选，默认为空</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.addCondition(" and name='A'"); //追加查询条件</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        pb.setSort("id");// 排序字段，可选，默认为空</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        </span><span class="pln codeSpan">
</span><span class="com codeSpan">//        commonDAO.findByPage(pb); //执行查询</span><span class="pln codeSpan">
</span><span class="com codeSpan">//</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        System.out.println(pb.getPageNo());// 当前页</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        System.out.println(pb.getRowsPerPage());// 每页条数</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        System.out.println(pb.getData());// 分页查询到的数据集合</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        System.out.println(pb.getRowsCount());// 总条数</span><span class="pln codeSpan">
</span><span class="com codeSpan">//        System.out.println(pb.getPageTotal());// 总页数</span></code></pre>
</li><li><p>EasySSH使用EasyCriteria类型的对象对查询条件进行封装，<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">findByPage</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">EasyCriteria</span><span class="pun codeSpan">)</span></code>可以在查询同时传入条件：</p>
<ul>
<li><p><strong>criteria查询条件类编写（主要实现getCondition()方法，返回条件字符串）</strong></p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="com codeSpan">/**
 * SysUser查询标准条件类
 * 
 * @author easyproject.cn
 * @version 1.0
 *
 */</span><span class="pln codeSpan">
</span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">class</span><span class="pln codeSpan"> </span><span class="typ codeSpan">SysUserCriteria</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">extends</span><span class="pln codeSpan"> </span><span class="typ codeSpan">EasyCriteria</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">implements</span><span class="pln codeSpan"> java</span><span class="pun codeSpan">.</span><span class="pln codeSpan">io</span><span class="pun codeSpan">.</span><span class="typ codeSpan">Serializable</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
    </span><span class="com codeSpan">/*
     * 1. 条件属性
     */</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">private</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> name</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">private</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> realName</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">private</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> status</span><span class="pun codeSpan">;</span><span class="pln codeSpan"> </span><span class="com codeSpan">// 用户状态：0启用；1禁用；2删除</span><span class="pln codeSpan">

     </span><span class="com codeSpan">/*
     * 2. 构造方法
     */</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">SysUserCriteria</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">SysUserCriteria</span><span class="pun codeSpan">(</span><span class="typ codeSpan">String</span><span class="pln codeSpan"> name</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> realName</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> </span><span class="typ codeSpan">Integer</span><span class="pln codeSpan"> status</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">super</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">name </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> name</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">realName </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> realName</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">status </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> status</span><span class="pun codeSpan">;</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

     </span><span class="com codeSpan">/*
     * 3. 条件生成抽象方法实现
     */</span><span class="pln codeSpan">
    </span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="typ codeSpan">String</span><span class="pln codeSpan"> getCondition</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
        values</span><span class="pun codeSpan">.</span><span class="pln codeSpan">clear</span><span class="pun codeSpan">();</span><span class="pln codeSpan"> </span><span class="com codeSpan">//清除条件数据</span><span class="pln codeSpan">
        </span><span class="typ codeSpan">StringBuffer</span><span class="pln codeSpan"> condition </span><span class="pun codeSpan">=</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">new</span><span class="pln codeSpan"> </span><span class="typ codeSpan">StringBuffer</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">if</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">StringUtils</span><span class="pun codeSpan">.</span><span class="pln codeSpan">isNotNullAndEmpty</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getName</span><span class="pun codeSpan">()))</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
            condition</span><span class="pun codeSpan">.</span><span class="pln codeSpan">append</span><span class="pun codeSpan">(</span><span class="str codeSpan">" and name like ?"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
            values</span><span class="pun codeSpan">.</span><span class="pln codeSpan">add</span><span class="pun codeSpan">(</span><span class="str codeSpan">"%"</span><span class="pln codeSpan"> </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getName</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="str codeSpan">"%"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">}</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">if</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">StringUtils</span><span class="pun codeSpan">.</span><span class="pln codeSpan">isNotNullAndEmpty</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getRealName</span><span class="pun codeSpan">()))</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
            condition</span><span class="pun codeSpan">.</span><span class="pln codeSpan">append</span><span class="pun codeSpan">(</span><span class="str codeSpan">" and realName like ?"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
            values</span><span class="pun codeSpan">.</span><span class="pln codeSpan">add</span><span class="pun codeSpan">(</span><span class="str codeSpan">"%"</span><span class="pln codeSpan"> </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getRealName</span><span class="pun codeSpan">()</span><span class="pln codeSpan"> </span><span class="pun codeSpan">+</span><span class="pln codeSpan"> </span><span class="str codeSpan">"%"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">}</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">if</span><span class="pln codeSpan"> </span><span class="pun codeSpan">(</span><span class="typ codeSpan">StringUtils</span><span class="pun codeSpan">.</span><span class="pln codeSpan">isNotNullAndEmpty</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getStatus</span><span class="pun codeSpan">()))</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
            condition</span><span class="pun codeSpan">.</span><span class="pln codeSpan">append</span><span class="pun codeSpan">(</span><span class="str codeSpan">" and status=?"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
            values</span><span class="pun codeSpan">.</span><span class="pln codeSpan">add</span><span class="pun codeSpan">(</span><span class="kwd codeSpan">this</span><span class="pun codeSpan">.</span><span class="pln codeSpan">getStatus</span><span class="pun codeSpan">());</span><span class="pln codeSpan">
        </span><span class="pun codeSpan">}</span><span class="pln codeSpan">
        </span><span class="kwd codeSpan">return</span><span class="pln codeSpan"> condition</span><span class="pun codeSpan">.</span><span class="pln codeSpan">toString</span><span class="pun codeSpan">();</span><span class="pln codeSpan">
    </span><span class="pun codeSpan">}</span><span class="pln codeSpan">

     </span><span class="com codeSpan">/*
     * 4. Setters &amp; Getters...
     */</span><span class="pln codeSpan"> 
</span><span class="pun codeSpan">}</span></code></pre>
<ul>
<li><p>Service使用</p>
<pre><code class="lang-JAVA prettyprint prettyprinted" style=""><span class="lit codeSpan">@Override</span><span class="pln codeSpan">
</span><span class="kwd codeSpan">public</span><span class="pln codeSpan"> </span><span class="kwd codeSpan">void</span><span class="pln codeSpan"> findByPage</span><span class="pun codeSpan">(</span><span class="typ codeSpan">PageBean</span><span class="pln codeSpan"> pb</span><span class="pun codeSpan">,</span><span class="typ codeSpan">SysUserCriteria</span><span class="pln codeSpan"> sysUserCriteria</span><span class="pun codeSpan">)</span><span class="pln codeSpan"> </span><span class="pun codeSpan">{</span><span class="pln codeSpan">
    pb</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setEntityName</span><span class="pun codeSpan">(</span><span class="str codeSpan">"SysUser s"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
    pb</span><span class="pun codeSpan">.</span><span class="pln codeSpan">setSelect</span><span class="pun codeSpan">(</span><span class="str codeSpan">"select s"</span><span class="pun codeSpan">);</span><span class="pln codeSpan">

 </span><span class="com codeSpan">// 按条件分页查询</span><span class="pln codeSpan">
    commonDAO</span><span class="pun codeSpan">.</span><span class="pln codeSpan">findByPage</span><span class="pun codeSpan">(</span><span class="pln codeSpan">pb</span><span class="pun codeSpan">,</span><span class="pln codeSpan"> sysUserCriteria</span><span class="pun codeSpan">);</span><span class="pln codeSpan">
</span><span class="pun codeSpan">}</span></code></pre>
</li></ul>
</li></ul>
</li></ul>
<h3 id="5-">5. 权限配置</h3>
<ul>
<li><p><strong>访问权限配置</strong></p>
<ol>
<li><p>添加菜单权限和操作权限</p>
</li><li><p>为角色分配菜单权限和操作权限</p>
</li><li><p>为用户分配角色 </p>
</li></ol>
</li><li><p><strong>显示控制权限配置（可参考用户管理模块实现）</strong></p>
<ol>
<li><p>在操作权限中配置显示权限动作</p>
</li><li><p>在JSP页面引入<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">easyssh</span><span class="pun codeSpan">-</span><span class="pln codeSpan">tags</span></code>标签库，将需要显示控制的内容定义在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">showAction</span><span class="pun codeSpan">标签</span></code>内，<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">action</span><span class="pun codeSpan">属性</span></code>指定必须具有的显示权限动作名称 </p>
<pre><code class="lang-JSP prettyprint prettyprinted" style=""><span class="pun codeSpan">&lt;%@</span><span class="pln codeSpan"> taglib uri</span><span class="pun codeSpan">=</span><span class="str codeSpan">"/easyssh-tags"</span><span class="pln codeSpan"> prefix</span><span class="pun codeSpan">=</span><span class="str codeSpan">"e"</span><span class="pln codeSpan"> %&gt;

 </span><span class="tag codeSpan">&lt;e:showAction</span><span class="pln codeSpan"> </span><span class="atn codeSpan">action</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"sysUserDelBtn"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">
     </span><span class="tag codeSpan">&lt;div</span><span class="pln codeSpan"> </span><span class="atn codeSpan">onclick</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"</span><span class="pln codeSpan">sysUser</span><span class="pun codeSpan">.</span><span class="pln codeSpan">toDelete</span><span class="pun codeSpan">()</span><span class="atv codeSpan">"</span><span class="pln codeSpan"> </span><span class="atn codeSpan">data-options</span><span class="pun codeSpan">=</span><span class="atv codeSpan">"iconCls:'icon-remove'"</span><span class="tag codeSpan">&gt;</span><span class="pln codeSpan">删除</span><span class="tag codeSpan">&lt;/div&gt;</span><span class="pln codeSpan">
 </span><span class="tag codeSpan">&lt;/e:showAction&gt;</span></code></pre>
</li><li>按需为用户分配显示权限</li></ol>
</li></ul>
<h3 id="6-">6. 附加组件：</h3>
<ul>
<li><p>EasyFilter Jave Web请求内容过滤替换组件 （<a href="http://easyproject.cn/easyfilter/zh-cn/index.jsp#readme" title="EasyFilter 请求内容过滤替换组件" target="_blank">API</a>）</p>
<p>EasyFilter是一个Jave Web请求内容过滤替换组件，支持使用properties或xml配置文件自定义过滤配置，能够对用户请求中的以下信息进行过滤替换：</p>
<ol>
<li>特殊字符替换（如：&lt;，&gt;特殊标记，脚本等）</li><li>非法关键字替换（如：网络系统中国情不允许的特殊关键词）</li><li>SQL防注入过滤（如：%,*,or,delete,and等等SQL特殊关键字）</li></ol>
<p><strong>在<code class=" prettyprint prettyprinted" style=""><span class="pln codeSpan">easyFilter</span><span class="pun codeSpan">.</span><span class="pln codeSpan">xml</span></code>中已经预定义了默认的替换配置。</strong></p>
</li><li><p>EasyCommons 通用开发组件（<a href="http://easyproject.cn/easycommons/zh-cn/index.jsp#readme" title="EasyCommons 通用开发组件" target="_blank">API</a>）</p>
<ul>
<li><p>EasyCommons-imageutils-1.4.jar</p>
<p>提供图片压缩，图片地址提取，图片水印等工具类。</p>
</li><li><p>EasyCommons-objectutils-1.7.1.jar</p>
<p>提供代替Java Properties对象的properties文件操作组件。</p>
</li><li><p>EasyCommons-propertiesutils-1.4.jar</p>
<p>提供基于<code class=" prettyprint prettyprinted" style=""><span class="pun codeSpan">字段表达式(</span><span class="typ codeSpan">FieldExpression</span><span class="pun codeSpan">)</span></code>对象属性抽取，对象属性过滤，对象属性置空等Obejct对象操作组件。</p>
</li></ul>
</li></ul>
<h3 id="7-easyuiex">7. EasyUIEx</h3>
<h4 id="-easyuiex-api-easyuiex-api-html-easyuiex-api-"><a href="easyuiex-api_zh_CN.html" title="EasyUIEx API" target="_blank">EasyUIEx API</a></h4>
<p>EasyUIEx是针对使用jQuery EasyUI框架开发的扩展性插件，主要对EasyUI框架的常用功能进行了封装和扩展，能大大提高EasyUI的易用性，简化操作的复杂性，并提供附加功能。</p>
<p>在进行项目开发时使用jQuery EasyUI + EasyUIEx 架构能大大简化EasyUI框架使用的复杂性，尤其在各种数据网格的CRUD方面，做了高度封装。</p>
<p>在项目中，优先查询EasyUIEx API来完成功能能达到事半功倍的作用。</p>
<h2>结束</h2>
<br/><br/><br/><br/><br/><br/><br/><br/>
  </body>
</html>
 <link rel="stylesheet" href="css/md.css" type="text/css"></link>